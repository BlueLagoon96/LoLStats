<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <title>LoLStats</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
	
	<!--Include jQuery from Google-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script>
	//global variables to tell if info has been loaded or not
	var summonerByNameLoaded = false;
	</script>
	<script>
	
	//request
	var sbnFilename = "summonerByName.php";
	var api_key = "RGAPI-7ddc9efa-a700-485b-a20a-1b78d8905b9e";
	function loadSummonerByName() {
	  var xhttp = new XMLHttpRequest();
	  xhttp.onreadystatechange = function() {
		if (this.readyState == 4 && this.status == 200) {
		 document.getElementById("summonerNameResult").innerHTML = this.responseText;
		 //parse json into object
		 sbnJsonParse();
		}
	  };
	  $request =  sbnFilename + "?name=" + document.getElementById("loadSummonerByName").value + "?api_key=" + api_key;
	  xhttp.open("GET", $request, true);
	  xhttp.send();
	}
	</script>
	<script>
	//summoner json parse
	var summonerByNameObj = {};
	function sbnJsonParse()
	{
	summonerByNameObj = JSON.parse(document.getElementById("summonerNameResult").innerHTML);
	//tell global variable the information has been loaded
	summonerByNameLoaded = true;
	}
	
	function loadIntoHtml()
	{
	if(summonerByNameLoaded == true)
	{
		//load summoner name
		document.getElementById("SummonerName").innerHTML = summonerByNameObj.name;
	}
	/*
		//load summoner level
		document.getElementById("summonerLevel").innerHTML = summonerByNameObj.summonerLevel;
	*/
	}
	</script>
  </head>
  <body>
	<div class="container">
		<div class="page-header">
			<h1>LoLStats</h1>
			
			<div class="btn-group">
				<a href="region.html" type="button" class="btn btn-primary">Region Stats</a>
				<a href="index.html" type="button" class="btn btn-primary">Champion Stats</a>
			</div> 
			<!--p3 store the result here-->
			<pre id="summonerNameResult">summonerName json here</pre>
			<!--p4 receive the argument from value field from here-->
			<input id="loadSummonerByName" type="text" value=""/>
			<br/>
			<!--p4 call loadDoc() when pressed-->
			<button onclick="loadSummonerByName();">search summoner by name</button>
		</div>
		
		<div class="jumbotron">
			<img id="profileIconId" src="img/question.png" alt="Profile Icon" width="64" height="64"/>
			<h2 id="SummonerName">Summoner Name</h2>
			<p>Summoner Rank,</p><p id="summonerLevel">Summoner Level</p>
			<p>
				<button type="submit" class="btn btn-success" role="button">Update</button>
			</p>
		</div>
		
		<div class="container">
		<div class="row">
		<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12">
			<h4>Champion Stats</h4>           
			  <table class="table table-bordered table-condensed">
				<thead>
				  <tr>
					<th>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion
					</th>
					<th>WR%</th>
					<th>W/L</th>
				  </tr>
				</thead>
				<tbody>
				  <tr>
					<td>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion1
					</td>
					<td>50%</td>
					<td>50/50</td>
				  </tr>
				  <tr>
					<td>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion2
					</td>
					<td>50%</td>
					<td>50/50</td>
				  </tr>
				  <tr>
					<td>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion3
					</td>
					<td>50%</td>
					<td>50/50</td>
				  </tr>
				</tbody>
			  </table>
			</div>
			
		<div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
			<h4>Match History</h4>
			<table class="table table-bordered table-condensed">
				<thead>
				  <tr>
					<th>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion
					</th>
					<th>WR%</th>
					<th>W/L</th>
				  </tr>
				</thead>
				<tbody>
				  <tr>
					<td>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion1
					</td>
					<td>50%</td>
					<td>50/50</td>
				  </tr>
				  <tr>
					<td>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion2
					</td>
					<td>50%</td>
					<td>50/50</td>
				  </tr>
				  <tr>
					<td>
						<img src="img/question.png" class="img-circle" alt="Unknown Champion" width="64" height="64">
						Champion3
					</td>
					<td>50%</td>
					<td>50/50</td>
				  </tr>
				</tbody>
			  </table>
		</div>
	</div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
  </body>
</html>
<!--
	API Key: RGAPI-7d142f1d-ac46-4e9b-96db-cb31e443be30
	https://developer.riotgames.com/

	20 requests every 1 seconds
	100 requests every 2 minutes

	Note that rate limits are enforced per region. For example, with the above rate limit,
	you could make 20 requests every 1 seconds to both NA and EUW endpoints simultaneously.
-->